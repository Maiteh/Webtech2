<!doctype html>
<html lang="en">
<head>


    <meta http-equiv="Content-Type" content="text/html;charset=UTF-8" />
    <title>Advanced javascript</title>


    <link rel="stylesheet" href="css/style.css" media="all"> 


</head>
<body>


<div class="container" >


    <header>
        
        <h1>IMD App</h1>
        
    </header>


    <ul>
        <li id="item4"  class = "high" >webtech2</li>
        <li id="item3"  class = "high" >php</li>
        <li id="item2" class="medium" >project2</li>
        <li id="item1" class="low" >Gaan wandelen meet juneke</li>
    </ul>


</div>


<script type="text/javascript">

    var IMDelement = function(element) //dit is een wrapper object
    {
        this.element = element;


        /*if(element.length >1)
        {
            var isarray = true;
        }
        else
        {
            var isarray = false;
        }*/
        //verkort if else
        this.isArray = (element.length > 1) ? true : false;
    }




    var number = 0;
    var $ = function(p_element)//definiÃ«ren welk object het is.
    //p_element is het element dat gecheckt wordt op #, . of gewone tags.
    {


        if(typeof p_element != 'object')//wanneer het element een object is
        {
            var firstChar = p_element.charAt(0);
            var result;


            switch(firstChar)
            {
                case "#":
                    var idToSelect = p_element.substring(1, p_element.length);
                    var element = document.getElementById(idToSelect);
                    result = new IMDelement(element);
                break;  


                case ".":
                    var classToSelect = p_element.substring(1, p_element.length);
                    var elements = document.getElementsByClassName(classToSelect);
                    result = new IMDelement(elements);
                break;


                default://= al de rest.
                    var elements = document.getElementsByTagName(p_element);
                    result = new IMDelement(elements);
                break;


            }
        }


        else
        {
            return new IMDelement(p_element)


        }
        return result;
    }


    IMDelement.prototype.color = function(p_color)
    {


        if(this.isArray)
        {
            for(i=0, l=this.element.length; i<l; i++)
            {
                this.element[i].style['color'] = p_color;
            }
        }


        else
        {
            console.log("1 elementje");
            this.element.style['color'] = p_color;
        }


        return this.element; //iets returnen zorgt er voor dat je functies kunt aan elkaar hangen.


    }


    //$(".todo").color("yellow");


    IMDelement.prototype.addClass = function(newClass)
    {
        this.element.className += ' newClass';


        if(this.isArray)
        {
            for(i=0, l=this.element.length; i<l; i++)
            {
                console.log("newClass");
                this.element[i].classList.add(newClass);
            }
        }


        else
        {
            console.log("1 elementje");
            this.element.classList.add(newClass);


        }


        return this.element;
    }




    IMDelement.prototype.click = function(p_function)
    {


        if(this.isArray)
        {
            for(i=0, l=this.element.length; i<l; i++)
            {
                console.log("newClass");
                this.element[i].addEventListener("click", p_function, false);
            }
        }


        else
        {
            console.log("1 elementje");
            this.element.addEventListener("click", p_function, false);


        }


        return this.element;
    }


    $("li").click(function(){
        $(this).addClass("done");
        console.log("click");
    });


    /*$("li").click(function()
    {
        $("#todo-item1").addClass("done");
        console.log("click");
    });*/




    //$("todo-item1").color("red"); --> er is geen functie color in js (enkel style.color)
    //we gaan dit nabouwen zodat we dat op alle elementen kunnen toepassen.


    /*HTMLElement.prototype.color = function(p_color)
    {
        this.style['color'] = p_color;
    }


    $("#todo-item1").color("red");*/


    //nu dat we de basis functie color() hebben aangemaakt werkt het bovenstaande wel.
    //een eigen basis functie aanmaken is gevaarlijk omdat als dit ooit algemeen ingevoegd wordt in js
    //overschrijven we deze functie en kan het conflicten en fouten veroorzaken.


    //uitleg objecten en protoypes
    /*var Person = function(firstname, lastname)
    {
        this.firstname = firstname;
        this.lastname = lastname;


        this.sayName = function()
        {
            console.log("Hi my name is " + this.firstname);
        }
    }


    var steve = new Person("Steve","Jobs");
    var bill = new Person("Bill","Gates");


    steve.sayName();
    bill.sayName();*/ 


    /*WAT MOET EEN TODO APP DOEN


    todoitem.add
    todoitem.click --> addClass "done".
    na klik action*/


</script>


</body>
</html>

